<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Title -->
    <title>CarReg</title>
    <meta charset="utf-8">
    <meta name="description" content="Mastamap Webapp"/>
    <meta name="keywords" content="web,mastamap"/>
    <meta name="author" content="Ron"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

    {% load static %}
    <!-- Styles -->
    <link type="text/css" rel="stylesheet"
          href="{% static 'carreg/assets/plugins/materialize/css/materialize.min.css' %}"/>
    <link href="{% static 'carreg/assets/css/material.css' %}" rel="stylesheet">
    <link href="{% static 'carreg/assets/plugins/material-preloader/css/materialPreloader.min.css' %}"
          rel="stylesheet">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Theme Styles -->
    <link href="{% static 'carreg/assets/css/alpha.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'carreg/assets/css/custom.css' %}" rel="stylesheet" type="text/css"/>


</head>
<body>
<div class="loader-bg"></div>
<div class="loader">
    <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-spinner-teal lighten-1">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-yellow">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-green">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
    </div>
</div>
<div class="mn-content fixed-sidebar">
    <!-- {#            <?php require'side_menu.php'; ?>#}
    {#            <link rel="import" href="{% include 'side_menu.html' %}">#} -->
    {% include 'carreg/side_menu.html' %}
    <main class="mn-inner inner-active-sidebar">
        <div class="content">
            <div class="row no-m-t no-m-b">


                <!-- Vehicle Registration -->
                <div class="col l4 s12 m6">
                    <a href="/vehicle_registration_details">
                        <div class="card stats-card">
                            <div class="card-content">
                                <div class="card-options">
                                    <ul>
                                        <li class="yellow-text">
                                            <i class="large material-icons">school</i>
                                    </ul>
                                </div>
                                <span class="card-title">Vehicle Registration</span>
                                <span class="stats-counter"><span class="counter"></span><small></small></span>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Vehicle Ownership Transfer -->
                <div class="col l4 s12 m6">
                    <a href="/vehicle_owner">
                        <div class="card stats-card">
                            <div class="card-content">
                                <div class="card-options">
                                    <ul>
                                        <li class="blue-text">
                                            <i class="large material-icons">local_pharmacy</i>
                                    </ul>
                                </div>
                                <span class="card-title">Vehicle Ownership Transfer</span>
                                <span class="stats-counter"><span class="counter"></span><small></small></span>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Confirmation of Ownership Transfer -->
                <div class="col l4 s12 m6">
                    <a href="/vehicle_confirmation">
                        <div class="card stats-card">
                            <div class="card-content">
                                <div class="card-options">
                                    <ul>
                                        <li class="red-text">
                                            <i class="large material-icons">monetization_on</i>
                                    </ul>
                                </div>
                                <span class="card-title">Confirmation of Ownership Transfer</span>
                                <span class="stats-counter"><span class="counter"></span><small></small></span>
                            </div>
                        </div>
                    </a>
                </div>


            </div>

            <!-- Google Analytics  -->
            {#                <div class="row no-m-t no-m-b">#}
            {##}
            {#                     <div class="col s12 m12 l12">#}
            {##}
            {#                            <div class="card visitors-card">#}
            {#                                <div class="card-content">#}
            {#                                    <div class="card-options">#}
            {#                                        <ul>#}
            {#                                            <li><a href="javascript:void(0)" class="card-refresh"><i class="material-icons">refresh</i></a></li>#}
            {#                                        </ul>#}
            {#                                    </div>#}
            {##}
            {#								<span class="card-title"><p style="font-family:verdana; color:#73bf5a;"> <strong>Total Views</strong></p></span>#}
            {##}
            {#									 <div class="server-load row">#}
            {#                                                    <div class="server-stat col s4">#}
            {#                                                        <p></p>#}
            {#                                                        <span>Total Visits</span>#}
            {#                                                    </div>#}
            {##}
            {#                                          </div>#}
            {#					<div class="row">#}
            {##}
            {#					<div id="embed-api-auth-container"></div>#}
            {##}
            {#						<!-- Step 1: Create the containing elements.--->#}
            {##}
            {#						<!-- container one -->#}
            {#					 <div class="col s12 m12 l12">#}
            {#					 <p style="color:#A8A8A8;"> <strong>Browser</strong></p>#}
            {#        					<div id="view-selector-1-container"></div>#}
            {#							<div id="chart-1-container"></div>#}
            {#                      </div>#}
            {##}
            {#					  <!-- container two -->#}
            {#					  <div class="col s12 m12 l6">#}
            {#					  	 <p style="color:#A8A8A8;"> <strong>Page Views</strong></p>#}
            {#        					<div id="view-selector-2-container"></div>#}
            {#							<div id="chart-2-container"></div>#}
            {#					</div>#}
            {##}
            {#					  <!-- container three -->#}
            {#					   <div class="col s12 m12 l6">#}
            {#						<p style="color:#A8A8A8;"> <strong>Page Visits</strong></p>#}
            {#							<div id="view-selector-3-container"></div>#}
            {#							<div id="chart-3-container"></div>#}
            {#					  </div>#}
            {##}
            {##}
            {#                    </div><!--end of div row-->#}
            {##}
            {#                                </div>#}
            {##}
            {#                    </div>#}
            {##}
            {#                    </div>#}
            {##}
            {#                 </div>#}


            {#					<div class="row no-m-t no-m-b">#}
            {##}
            {#                     <div class="col s12 m12 l12">#}
            {##}
            {#                            <div class="card visitors-card">#}
            {#                                <div class="card-content">#}
            {#                                    <div class="card-options">#}
            {#                                        <ul>#}
            {#                                            <li><a href="javascript:void(0)" class="card-refresh"><i class="material-icons">refresh</i></a></li>#}
            {#                                        </ul>#}
            {#                                    </div>#}
            {##}
            {#								<span class="card-title"><p style="font-family:verdana; color:#73bf5a;"> <strong>Google Charts</strong></p></span>#}
            {##}
            {#									 <div class="server-load row">#}
            {#                                                    <div class="server-stat col s4">#}
            {#                                                        <p></p>#}
            {#                                                        <span>Total Page Views</span>#}
            {#                                                    </div>#}
            {##}
            {#                                          </div>#}
            {#					<div class="row">#}
            {##}
            {#					<div id="embed-api-auth-container"></div>#}
            {##}
            {#						<!-- Step 1: Create the containing elements.--->#}
            {##}
            {#						<!-- container one -->#}
            {#					 <div class="col s12 m12 l12">#}
            {#					 <p style="color:#A8A8A8;"> <strong>Page Views</strong></p>#}
            {#        					<div id="view-selector-1-container"></div>#}
            {#							<div id="chart-1-container"></div>#}
            {#                      </div>#}
            {##}
            {#					  <!-- container two -->#}
            {#					  <div class="col s12 m12 l6">#}
            {#					  	 <p style="color:#A8A8A8;"> <strong>Top Cities by Page Views</strong></p>#}
            {#        					<div id="view-selector-2-container"></div>#}
            {#							<div id="chart-2-container"></div>#}
            {#					</div>#}
            {##}
            {#					  <!-- container three -->#}
            {#					   <div class="col s12 m12 l6">#}
            {#						<p style="color:#A8A8A8;"> <strong>Page Views by Page</strong></p>#}
            {#							<div id="view-selector-3-container"></div>#}
            {#							<div id="chart-3-container"></div>#}
            {#					  </div>#}
            {##}
            {##}
            {#                    </div><!--end of div row-->#}
            {##}
            {#                                </div>#}
            {##}
            {#                    </div>#}
            {##}
            {#                    </div>#}
            {##}
            {#                 </div>#}
            {##}


        </div>

        <!--<div class="inner-sidebar">
            <span class="inner-sidebar-title">Last Login</span>
            <div class="message-list">
            <div class="info-item message-item"><img class="circle" src="assets/images/profile-image-2.png" alt=""><div class="message-info"><div class="message-author">Ned Flanders</div><small>3 hours ago</small></div></div>
            </div>
            <div class="inner-sidebar-divider"></div>

            <div class="sidebar-radar-chart"><canvas id="radar-chart" width="170" height="140"></canvas></div>
        </div>-->
    </main>

    <div class="left-sidebar-hover"></div>


    <!-- Javascripts -->
    {% load static %}
    <script src="{% static 'carreg/assets/plugins/jquery/jquery-2.2.0.min.js' %}"></script>
    <script src="{% static 'carreg/assets/plugins/materialize/js/materialize.min.js' %}"></script>
    <script src="{% static 'carreg/assets/plugins/material-preloader/js/materialPreloader.min.js' %}"></script>
    <script src="{% static 'carreg/assets/plugins/jquery-blockui/jquery.blockui.js' %}"></script>
    <script src="{% static 'carreg/assets/plugins/datatables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'carreg/assets/js/alpha.min.js' %}"></script>
    <script src="{% static 'carreg/assets/js/pages/table-data.js' %}"></script>
    <script src="{% static 'carreg/assets/js/pages/form_elements.js' %}"></script>


    <script>
        user = JSON.parse(localStorage.getItem('userProfile'));
        if (user.national_id === 11111111) {
            window.location.replace("/admin");
        }
        function getCount() {
            var address = ["http://192.168.170.227:8000/getYear", "http://41.89.6.97:8000/getYear"];
            var arrayLength = address.length;
            for (var i = 0; i < arrayLength; i++) {
                var requests = [{sector: "Agriculture"}];
                var settings = {
                    "async": true,
                    "crossDomain": true,
                    "url": address[i],
                    "method": "POST",
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded",
                        "cache-control": "no-cache",
                    },
                    "data": {
                        "sector": "Labour"
                    }
                }

                $.ajax(settings).done(function (response) {
                    console.log(response);
                });

            }
        }

    </script>


    <!-- {#				<?php#}
    {#		if ($error!=null) {#}
    {#		?>#}
    {#		<script>#}
    {#		$( document ).ready(function() {#}
    {#			Materialize.toast("<?php echo $error; ?>", 4000)#}
    {#			});#}
    {#		</script>#}
    {#		<?php } ?>#} -->


    <!-- Step 2: Load the library. -->
    <script>
        (function (w, d, s, g, js, fjs) {
            g = w.gapi || (w.gapi = {});
            g.analytics = {
                q: [], ready: function (cb) {
                    this.q.push(cb)
                }
            };
            js = d.createElement(s);
            fjs = d.getElementsByTagName(s)[0];
            js.src = 'https://apis.google.com/js/platform.js';
            fjs.parentNode.insertBefore(js, fjs);
            js.onload = function () {
                g.load('analytics')
            };
        }(window, document, 'script'));
    </script>


    <!--step 3: write dashboard script-->
    <script>

        gapi.analytics.ready(function () {

            /**
             * Authorize the user immediately if the user has already granted access.
             * If no access has been created, render an authorize button inside the
             * element with the ID "embed-api-auth-container".
             */
            gapi.analytics.auth.authorize({
                container: 'embed-api-auth-container',
                clientid: '862001577258-6nkfkjci1i57ol5v374t58sud5dbrfp0.apps.googleusercontent.com'
            });


            /**
             * Create a ViewSelector for the first view to be rendered inside of an
             * element with the id "view-selector-1-container".
             */
            var viewSelector1 = new gapi.analytics.ViewSelector({
                container: 'view-selector-1-container'
            });

            /**
             * Create a ViewSelector for the second view to be rendered inside of an
             * element with the id "view-selector-2-container".
             */
            var viewSelector2 = new gapi.analytics.ViewSelector({
                container: 'view-selector-2-container'
            });


            var viewSelector3 = new gapi.analytics.ViewSelector({
                container: 'view-selector-3-container'
            });

            // Render both view selectors to the page.
            viewSelector1.execute();
            viewSelector2.execute();
            viewSelector3.execute();


            /**
             * Create the first DataChart for top countries over the past 30 days.
             * It will be rendered inside an element with the id "chart-1-container".
             */
            var dataChart1 = new gapi.analytics.googleCharts.DataChart({
                query: {
                    metrics: 'ga:pageviews',
                    dimensions: 'ga:date',
                    'start-date': '2016-08-29',
                    'end-date': 'yesterday'
                },
                chart: {
                    container: 'chart-1-container',
                    type: 'LINE',
                    options: {
                        width: '100%'
                    }
                }
            });


            /**
             * Create the second DataChart for top countries over the past 30 days.
             * It will be rendered inside an element with the id "chart-2-container".
             */
            var dataChart2 = new gapi.analytics.googleCharts.DataChart({
                query: {
                    metrics: 'ga:pageviews',
                    dimensions: 'ga:city',
                    'start-date': '2016-08-29',
                    'end-date': 'yesterday',
                    'max-results': 6,
                    sort: '-ga:pageviews'
                },
                chart: {
                    container: 'chart-2-container',
                    type: 'PIE',
                    options: {
                        width: '100%',
                        pieHole: 2 / 9
                    }
                }
            });

            var dataChart3 = new gapi.analytics.googleCharts.DataChart({
                query: {
                    'dimensions': 'ga:pagePath',
                    'metrics': 'ga:pageviews',
                    'sort': '-ga:pageviews',
                    'max-results': '10'
                },
                chart: {
                    type: 'TABLE',
                    container: 'chart-3-container',
                    options: {
                        width: '100%',
                    }
                }
            });


            /**
             * Update the first dataChart when the first view selecter is changed.
             */
            viewSelector1.on('change', function (ids) {
                dataChart1.set({query: {ids: ids}}).execute();
            });

            /**
             * Update the second dataChart when the second view selecter is changed.
             */
            viewSelector2.on('change', function (ids) {
                dataChart2.set({query: {ids: ids}}).execute();
            });


            viewSelector3.on('change', function (ids) {
                dataChart3.set({query: {ids: ids}}).execute();
            });

        });
    </script>


</body>


</html>